name: 'Jupyter notebook, no open files, cursor near beginning, 1 previous cells, code snippets context'

state:
    context-items:
        code-snippets:
            - uri: file:///dad-jokes/src/add.js
              value: |-
                  export function add(a: number, b: number): number {
                      return a + b;
                  }
              importance: 1
            - uri: file:///dad-jokes/src/multiply.js
              value: |-
                  export function multiply(a: number, b: number): number {
                      return a * b;
                  }
    current-file:
        uri: file:///dad-jokes/src/notebook.ipynb
        text: |-
            {
            "cells": [
            {
            "cell_type": "markdown",
            "metadata": {},
            "source": [
                "### Current file"
            ]
            },
            {
            "cell_type": "code",
            "execution_count": null,
            "metadata": {
                "vscode": {
                "languageId": "javascript"
                }
            },
            "outputs": [],
            "source": [
                "export class DadJoke {\n",
                "\n",
                "    id;\n",
                "    question;\n",
                "    answer;\n",
                "    status;\n",
                "    rating;\n",
                "\n",
                "    constructor(\n",
                "        id,\n",
                "        question,\n",
                "        answer,\n",
                "        status = 'unseen',\n",
                "        rating = 'unrated'\n",
                "    ) {\n",
                "        this.id = id;\n",
                "        this.question = question;\n",
                "        this.answer = answer;\n",
                "        this.status = status;\n",
                "        this.rating = rating;\n",
                "    }\n",
                "}"
            ]
            },
            {
            "cell_type": "markdown",
            "metadata": {},
            "source": [
                "### Helper functions"
            ]
            },
            {
            "cell_type": "code",
            "execution_count": null,
            "metadata": {
                "vscode": {
                "languageId": "javascript"
                }
            },
            "outputs": [],
            "source": [
                "export function add(a, b) {â®‘\n",
                "    return a + b;\n",
                "}"
            ]
            },
            {
            "cell_type": "code",
            "execution_count": null,
            "metadata": {
                "vscode": {
                "languageId": "javascript"
                }
            },
            "outputs": [],
            "source": [
                "export function multiply(a, b) {\n",
                "    return a * b;\n",
                "}"
            ]
            }
            ],
            "metadata": {
            "language_info": {
            "name": "python"
            }
            },
            "nbformat": 4,
            "nbformat_minor": 2
            }

expected-prompt:
    prefix: |-
        // Language: javascript
        // Compare this snippet from multiply.js:
        // export function multiply(a: number, b: number): number {
        //     return a * b;
        // }
        // Compare this snippet from add.js:
        // export function add(a: number, b: number): number {
        //     return a + b;
        // }
        export class DadJoke {

            id;
            question;
            answer;
            status;
            rating;

            constructor(
                id,
                question,
                answer,
                status = 'unseen',
                rating = 'unrated'
            ) {
                this.id = id;
                this.question = question;
                this.answer = answer;
                this.status = status;
                this.rating = rating;
            }
        }

        export function add(a, b) {
    suffix: |-
        return a + b;
        }
